"use strict";(self.webpackChunkcateringApp=self.webpackChunkcateringApp||[]).push([[655],{2655:(_,g,r)=>{r.r(g),r.d(g,{LoginModule:()=>P});var i=r(6895),m=r(3060),u=r(6119),M=r(262),h=r(2843),s=r(8505),a=r(4650),d=r(4961),C=r(508),v=r(2645),A=r(4859),b=r(7392),f=r(9549),I=r(4144),l=r(4006),p=r(3546);function D(o,e){1&o&&(a.TgZ(0,"mat-error"),a._uU(1," Wrong credentials given. "),a.qZA())}const O=[{path:"",component:(()=>{class o{constructor(t,n,c){this._usersService=t,this._router=n,this._auth=c,this.user={email:"",password:""}}login(){this._usersService.login(this.user).pipe((0,M.K)(t=>(this.isLoginFailed=!0,(0,h._)(()=>t))),(0,s.b)(t=>this.afterLoginSuccess(t))).subscribe()}afterLoginSuccess(t){localStorage.setItem("current user",JSON.stringify({email:t.email,firstname:t.firstname})),localStorage.setItem("token",t.verificationToken),this._auth.isLoggedIn=!0,this.isLoginFailed=!1,this._router.navigate([""])}}return o.\u0275fac=function(t){return new(t||o)(a.Y36(d.f),a.Y36(m.F0),a.Y36(C.e))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-login"]],decls:29,vars:3,consts:[[1,"form-container"],[1,"form-title"],[1,"form-content"],["appearance","outline"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["matSuffix",""],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngIf"],["mat-raised-button","","type","submit",3,"click"],[1,"redirect"],["routerLink","/register"]],template:function(t,n){1&t&&(a._UZ(0,"app-navbar"),a.TgZ(1,"div",0)(2,"mat-card")(3,"mat-card-title",1),a._uU(4,"Sign in"),a.qZA(),a.TgZ(5,"mat-card-content")(6,"form",2)(7,"p")(8,"mat-form-field",3)(9,"mat-label"),a._uU(10,"E-mail"),a.qZA(),a.TgZ(11,"input",4),a.NdJ("ngModelChange",function(x){return n.user.email=x}),a.qZA(),a.TgZ(12,"mat-icon",5),a._uU(13,"mail"),a.qZA()()(),a.TgZ(14,"p")(15,"mat-form-field",3)(16,"mat-label"),a._uU(17,"Password"),a.qZA(),a.TgZ(18,"input",6),a.NdJ("ngModelChange",function(x){return n.user.password=x}),a.qZA(),a.TgZ(19,"mat-icon",5),a._uU(20,"key"),a.qZA()()(),a.YNc(21,D,2,0,"mat-error",7),a.TgZ(22,"button",8),a.NdJ("click",function(){return n.login()}),a._uU(23,"Login"),a.qZA()()(),a.TgZ(24,"mat-card-footer")(25,"span",9),a._uU(26,"Don't have an account yet? "),a.TgZ(27,"a",10),a._uU(28,"Sign up"),a.qZA()()()()()),2&t&&(a.xp6(11),a.Q6J("ngModel",n.user.email),a.xp6(7),a.Q6J("ngModel",n.user.password),a.xp6(3),a.Q6J("ngIf",n.isLoginFailed))},dependencies:[i.O5,m.yS,v.S,A.lW,b.Hw,f.TO,f.KE,f.hX,f.R9,I.Nt,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.on,l.On,l.F,p.a8,p.dn,p.n5,p.rt],styles:["[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2em}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1em}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 2em}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:.5em;color:#fcf6f5;background-color:#901}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:1em}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:4px;cursor:pointer;text-decoration:none;transition:color .3s}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0021a5}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{margin-top:-1em;margin-bottom:1em}"]}),o})(),canActivate:[u.a]}];let y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[m.Bz.forChild(O),m.Bz]}),o})();var S=r(6269);let P=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[i.ez,y,S.m,p.QW]}),o})()},4961:(_,g,r)=>{r.d(g,{f:()=>h});var i=r(262),m=r(2843),u=r(4650),M=r(529);let h=(()=>{class s{constructor(d){this.http=d,this._url="https://localhost:7166/api/Auth"}register(d){return this.http.post(`${this._url}/register`,d)}login(d){return this.http.post(`${this._url}/login`,d)}modifyCredentials(d){return this.http.patch(`${this._url}/modify`,d).pipe((0,i.K)(C=>(0,m._)(()=>C)))}}return s.\u0275fac=function(d){return new(d||s)(u.LFG(M.eN))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},3546:(_,g,r)=>{r.d(g,{QW:()=>o,a8:()=>y,dn:()=>C,n5:()=>v,rt:()=>f});var i=r(4650),m=r(3238);const u=["*",[["mat-card-footer"]]],M=["*","mat-card-footer"];let C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),e})(),y=(()=>{class e{constructor(n){this._animationMode=n}}return e.\u0275fac=function(n){return new(n||e)(i.Y36(i.QbO,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,c){2&n&&i.ekj("_mat-animation-noopable","NoopAnimations"===c._animationMode)},exportAs:["matCard"],ngContentSelectors:M,decls:2,vars:0,template:function(n,c){1&n&&(i.F$t(u),i.Hsn(0),i.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),e})(),o=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[m.BQ,m.BQ]}),e})()}}]);